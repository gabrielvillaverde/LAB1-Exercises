/*
 * utn.c
 *
 *  Created on: 3 sep. 2020
 *      Author: Hzkr
 */

#include <stdio.h>
#include <stdlib.h>

int utn_getNumero(int * pResultado, char * mensaje, char * mensajeError, int minimo, int maximo, int reintentos)
{
	int retorno = -1;
	int bufferInt; // Lo que leo con el scanf, lo guardo acá.
	int contadorIntentos = 0;
	// Chequear que todos los punteros que recibí, no sean NULL.
	if(pResultado != NULL && mensaje != NULL && mensajeError != NULL){
		do
		{
			if(contadorIntentos == reintentos){ // Verifica que el contador de intentos sea igual a reintentos.
				flag = -2; // ...en tal caso, pone el retorno en -2 y sale. El retorno está puesto así para, en el main, devolver como resultado que se superó la cantidad de intentos.
				break;
			}

			printf("%s\n", mensaje);
			scanf("%d", &bufferInt);
			if(bufferInt >= minimo && bufferInt <= maximo){ // Verifica que sea mayor/igual que el mínimo y que sea menor/igual que el máximo.
				retorno = 0; // ...en tal caso, pone el retorno en 0 para indicar que salió todo bien.
				*pResultado = bufferInt; // El puntero de resultado se asigna a bufferInt.
				break;
			}
			else{
				printf("%s\n", mensajeError);
			}
		}
	printf("%s", mensaje); // Máscara de string, mensaje.
	}
}
